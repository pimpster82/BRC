<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Bible Reading Companion - Track your daily Bible reading" />
    <meta name="theme-color" content="#1E40AF" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Favicon & App Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png" />
    <link rel="icon" type="image/svg+xml" href="/icons/open-bible-icon.svg" />
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png" />

    <!-- FOUC Prevention: Apply theme BEFORE React loads -->
    <!-- This script runs synchronously before any styles are applied -->
    <!-- It prevents the "flash of light mode" when user has dark mode selected -->
    <script>
      (function() {
        try {
          const theme = localStorage.getItem('settings_theme') || 'system'
          let actualTheme = theme

          if (theme === 'system') {
            actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
          }

          // Apply dark class immediately if needed
          if (actualTheme === 'dark') {
            document.documentElement.classList.add('dark')
          }
        } catch (e) {
          // Silently fail if localStorage unavailable
          // Theme will be applied by React/ThemeContext
        }
      })()
    </script>

    <title>Bible Reading Companion</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
